<div class="bg-gray-900 text-white min-h-screen font-sans p-4 sm:p-8">
  <div class="max-w-4xl mx-auto">
    <header class="flex justify-between items-center text-center mb-10">
      <button (click)="goBack()" class="text-teal-400 hover:text-teal-300 transition-colors font-semibold">
        &larr; Nazad na početnu
      </button>
      <div>
        <h1 class="text-4xl sm:text-5xl font-bold text-teal-400">Notifikacije</h1>
        <p class="text-gray-400 mt-2">Pregled administratorskih upozorenja.</p>
      </div>
      <div class="w-28"></div> <!-- Prazan div za poravnanje -->
    </header>

    <main>
      @if (isLoading()) {
        <div class="text-center text-gray-400">Učitavam notifikacije...</div>
      }
      @if (error()) {
        <div class="bg-red-900 border border-red-700 text-red-300 px-4 py-3 rounded-lg text-center" role="alert">
          {{ error() }}
        </div>
      }

      @if (!isLoading() && notifications().length === 0) {
        <div class="text-center text-gray-500 bg-gray-800 p-8 rounded-lg">
          Nemate novih notifikacija.
        </div>
      }

      @if (notifications().length > 0) {
        <div class="space-y-4">
          @for (notification of notifications(); track notification.id) {
            <div
              (click)="markAsRead(notification)"
              class="p-5 rounded-lg border transition-all duration-300 cursor-pointer"
              [class.bg-gray-800]="!notification.read"
              [class.border-gray-700]="!notification.read"
              [class.hover:bg-gray-700]="!notification.read"
              [class.border-gray-800]="notification.read"
              [class.text-gray-500]="notification.read"
              >
            <div class="flex justify-between items-start">
              <p class="font-medium flex-1" [class.text-teal-300]="!notification.read">{{ notification.message }}</p>
              @if (!notification.read) {
                <span class="w-3 h-3 bg-teal-400 rounded-full flex-shrink-0 ml-4 mt-1 animate-pulse"></span>
              }
            </div>
            <p class="text-xs text-gray-500 mt-2">{{ notification.createdAt | date:'dd.MM.yyyy. HH:mm' }}</p>
            </div>
          }
        </div>
      }
    </main>
  </div>
</div>
